commit ae5008b92af960723e41804189551144d99043c0
Author: Ryan Scott <ryan.gl.scott@gmail.com>
Date:   Sat Oct 27 22:07:44 2018 -0400

    Allow building with template-haskell-2.15.0.0

diff --git a/src/Data/SafeCopy/Derive.hs b/src/Data/SafeCopy/Derive.hs
index ef58748..0479e70 100644
--- a/src/Data/SafeCopy/Derive.hs
+++ b/src/Data/SafeCopy/Derive.hs
@@ -260,14 +260,22 @@ internalDeriveSafeCopy' deriveType versionId kindName tyName info = do
       decs <- forM insts $ \inst ->
         case inst of
 #if MIN_VERSION_template_haskell(2,11,0)
-          DataInstD context _name ty _kind cons _derivs ->
+          DataInstD context _name
+# if MIN_VERSION_template_haskell(2,15,0)
+                            _mtvbs
+# endif
+                            ty _kind cons _derivs ->
 #else
           DataInstD context _name ty cons _derivs ->
 #endif
               worker' (foldl appT (conT tyName) (map return ty)) context [] (zip [0..] cons)
 
 #if MIN_VERSION_template_haskell(2,11,0)
-          NewtypeInstD context _name ty _kind con _derivs ->
+          NewtypeInstD context _name
+# if MIN_VERSION_template_haskell(2,15,0)
+                               _mtvbs
+# endif
+                               ty _kind con _derivs ->
 #else
           NewtypeInstD context _name ty con _derivs ->
 #endif
@@ -306,7 +314,11 @@ internalDeriveSafeCopyIndexedType' deriveType versionId kindName tyName tyIndex'
       decs <- forM insts $ \inst ->
         case inst of
 #if MIN_VERSION_template_haskell(2,11,0)
-          DataInstD context _name ty _kind cons _derivs
+          DataInstD context _name
+# if MIN_VERSION_template_haskell(2,15,0)
+                            _mtvbs
+# endif
+                            ty _kind cons _derivs
 #else
           DataInstD context _name ty cons _derivs
 #endif
@@ -316,7 +328,11 @@ internalDeriveSafeCopyIndexedType' deriveType versionId kindName tyName tyIndex'
               return []
 
 #if MIN_VERSION_template_haskell(2,11,0)
-          NewtypeInstD context _name ty _kind con _derivs
+          NewtypeInstD context _name
+# if MIN_VERSION_template_haskell(2,15,0)
+                               _mtvbs
+# endif
+                               ty _kind con _derivs
 #else
           NewtypeInstD context _name ty con _derivs
 #endif
